# (C) 2026 GoodData Corporation
# AIDA validation registry
#
# Define command_id and processor_id specifications referenced by validation_policy.yaml.
registry:
  includes: []
  commands:
    package-lint:
      argv: ["make", "-C", "{root}", "lint"]
      cwd: "{workspace_root}"
    package-type-check:
      argv: ["make", "-C", "{root}", "type-check"]
      cwd: "{workspace_root}"
    package-test:
      argv: ["make", "-C", "{root}", "test"]
      cwd: "{workspace_root}"
    package-test-py314:
      argv: ["make", "-C", "{root}", "test"]
      cwd: "{workspace_root}"
      env:
        TEST_ENVS: py314
    package-test-py310:
      argv: ["make", "-C", "{root}", "test"]
      cwd: "{workspace_root}"
      env:
        TEST_ENVS: py310
    package-test-matrix:
      argv: ["make", "-C", "{root}", "test"]
      cwd: "{workspace_root}"
      env:
        TEST_ENVS: py314,py313,py312,py311,py310
    workspace-lint:
      argv: ["make", "lint"]
      cwd: "{workspace_root}"
    workspace-type-check:
      argv: ["make", "type-check"]
      cwd: "{workspace_root}"
    api-client-tests:
      argv: ["uv", "run", "tox", "-c", "{workspace_root}/gooddata-api-client/tox.ini"]
      cwd: "{workspace_root}/gooddata-api-client"
    aida-doctor:
      argv: ["aida-mcp", "doctor"]
      cwd: "{workspace_root}"
  processors:
    passthrough:
      kind: builtin
      builtin_id: passthrough
    pytest:
      kind: builtin
      builtin_id: pytest
