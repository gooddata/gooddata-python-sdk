---
description: How to create or update Cursor rule files - minimal templates and standards
alwaysApply: false
---

# Creating and Updating Cursor Rules

## Folder Structure

- `.cursor/rules/general/` - General rules (always applied)
- `.cursor/rules/packages/` - Package-specific rules
- `.cursor/rules/technologies/` - Technology rules (Python, testing)
- `.cursor/rules/cursor/` - Cursor workflow and meta-rules

## Rule Creation Process

1. **Ask for clarification** if codebase location unclear
2. **Investigate the codebase** relevant to the rule
3. **Look at similar existing rules** as examples (better than templates)
4. **Keep it minimal** - target 25-40 lines max
5. **Focus on proprietary knowledge** - not generic patterns

## Updating Existing Rules

**CRITICAL**: Be MINIMAL. Add only what prevents actual errors.

**DO (Minimal):**
```python
# Just the pattern that fixes the error
from typing import TYPE_CHECKING, Any
if TYPE_CHECKING:
    Context = MCPContext[Any, Any, Any]
```

**DON'T (Verbose):**
- ❌ Pattern explanations (why it works, alternatives, trade-offs)
- ❌ Multiple examples (good vs bad, before vs after)
- ❌ Best practices unrelated to errors
- ❌ Prose explanations ("Why:", "Note:", paragraphs)
- ❌ Decision matrices or tables (unless critical for error prevention)
- ❌ Checklists (unless they prevent actual errors)
- ❌ Step-by-step tutorials
- ❌ Verbose "correct vs wrong" comparisons

**Rule of thumb**: If it didn't cause a validation error, don't add it.

**Target length**: 25-40 lines. If over 50 lines, too verbose.

## Rule Structure

**Essential sections:**
- Description header (1 line)
- Owns / Does NOT Own (clear boundaries)
- Critical constraints (if any)
- Dependencies

## Rule Header Format

```markdown
---
description: {Brief - used by Cursor for rule selection}
alwaysApply: false  # (true only for general rules)
---
```
